<template name='contributor'>
<div class='contributor-page-actions pull-right'>
  <button id='follow-contributor' class='btn disabled not-implemented'>Follow {{contributor.name}}</button>
  <button id='share-contributor' class='btn disabled not-implemented'>Share {{contributor.name}}'s awesome work!</button>
</div>
<div class='contributor pull-left' style='border-left-color: {{contributor.color}}'>
  <img class='img-polaroid' src='{{contributor.photoUrl 40 }}'/>
</div>
<h1>Contributions by {{contributor.name}}</h1>
<table class='table'>
  <thead>
    <tr>
      <th>
        {{contributor.name}} Uses:
        {{#each contributor.usedTechnologies}}
          <a class='technology-logo-small' href='{{route}}' title='{{name}}' rel='tooltip' style='margin-left: 3px'>
            {{{imgPolaroid}}}
          </a>
        {{/each}}
      </th>
    </tr>
  </thead>
  <tbody>
    {{#each contributor.contributions}}
      {{#if technology}}
        <tr class='contribution'>
          {{#if typeIs 'technology'}}
            <th>
              Created technology
              <a href='{{technology.route}}'>{{technology.name}}</a>
            </th>
            <td class='contribution-data'></td>
            <td>
              <small class='pull-right muted'>Created {{timeAgo technology.createdAt}}, last update {{timeAgo technology.updatedAt}}</small>
            </td>
          {{/if}}
          {{#if typeIs 'aspectContribution'}}
            <th>
              Contributed to
              <a href='{{technology.route}}'>{{technology.name}}</a>
              to aspect
              <span class='label'>{{aspect.name}}</span>
            </th>
            <td class='contribution-data'>
              {{#with content}}
                {{> aspectViewer readonly}}
              {{/with}}
            </td>
            <td>
              <small class='pull-right muted'>Created {{timeAgo content.createdAt}}, last update {{timeAgo content.updatedAt}}</small>
            </td>
          {{/if}}
        </tr>
      {{/if}}
    {{/each}}
  </tbody>
</table>
</template>
